{
    "sourceFile": "Dockerfile.user",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1754146635274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1754146762859,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,14 @@\n COPY mvnw.cmd .\n COPY pom.xml .\n COPY .mvn .mvn\n \n+# Копируем pom.xml файлы всех модулей\n+COPY user/pom.xml ./user/pom.xml\n+COPY point/pom.xml ./point/pom.xml\n+COPY statistic/pom.xml ./statistic/pom.xml\n+COPY common/pom.xml ./common/pom.xml\n+\n # Копируем исходный код\n COPY user/src ./user/src\n COPY common/src ./common/src\n \n@@ -16,8 +22,10 @@\n RUN chmod +x mvnw\n \n # Проверяем наличие файлов\n RUN ls -la .mvn/wrapper/\n+RUN ls -la user/\n+RUN ls -la common/\n \n # Собираем проект\n RUN ./mvnw clean package -pl user -am -DskipTests\n \n"
                }
            ],
            "date": 1754146635274,
            "name": "Commit-0",
            "content": "FROM openjdk:21-jdk-slim\n\nWORKDIR /app\n\n# Копируем Maven wrapper и pom.xml\nCOPY mvnw .\nCOPY mvnw.cmd .\nCOPY pom.xml .\nCOPY .mvn .mvn\n\n# Копируем исходный код\nCOPY user/src ./user/src\nCOPY common/src ./common/src\n\n# Устанавливаем права на выполнение для mvnw\nRUN chmod +x mvnw\n\n# Проверяем наличие файлов\nRUN ls -la .mvn/wrapper/\n\n# Собираем проект\nRUN ./mvnw clean package -pl user -am -DskipTests\n\n# Создаем директорию для приложения\nRUN mkdir -p /app/target\n\n# Копируем собранный JAR файл\nRUN cp user/target/*.jar /app/target/app.jar\n\n# Открываем порт\nEXPOSE 8090\n\n# Запускаем приложение\nCMD [\"java\", \"-jar\", \"/app/target/app.jar\"] "
        }
    ]
}
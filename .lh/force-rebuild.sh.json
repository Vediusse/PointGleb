{
    "sourceFile": "force-rebuild.sh",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1754154957062,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1754154957062,
            "name": "Commit-0",
            "content": "#!/bin/bash\n\n# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö\n# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./force-rebuild.sh [service]\n\nSERVICE=${1:-\"all\"}\n\n# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nBLUE='\\033[0;34m'\nNC='\\033[0m'\n\nprint_message() {\n    echo -e \"${GREEN}[FORCE REBUILD]${NC} $1\"\n}\n\nprint_warning() {\n    echo -e \"${YELLOW}[WARNING]${NC} $1\"\n}\n\nprint_info() {\n    echo -e \"${BLUE}[INFO]${NC} $1\"\n}\n\n# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏\nforce_rebuild() {\n    local service=$1\n    \n    print_message \"–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ $service...\"\n    \n    # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä\n    docker-compose -f docker-compose.dev.yml stop $service\n    \n    # –£–¥–∞–ª—è–µ–º –æ–±—Ä–∞–∑\n    docker-compose -f docker-compose.dev.yml down --rmi $service\n    \n    # –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º\n    docker-compose -f docker-compose.dev.yml up -d --build $service\n    \n    print_message \"–°–µ—Ä–≤–∏—Å $service –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω!\"\n}\n\n# –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞\nmain() {\n    print_info \"üî® –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞\"\n    print_info \"–°–µ—Ä–≤–∏—Å: $SERVICE\"\n    echo \"\"\n    \n    case $SERVICE in\n        \"user\"|\"user-service\")\n            force_rebuild \"user-service\"\n            ;;\n        \"point\"|\"point-service\")\n            force_rebuild \"point-service\"\n            ;;\n        \"statistic\"|\"statistic-service\")\n            force_rebuild \"statistic-service\"\n            ;;\n        \"all\")\n            print_message \"–ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤...\"\n            docker-compose -f docker-compose.dev.yml down --rmi all\n            docker-compose -f docker-compose.dev.yml up -d --build\n            print_message \"–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω—ã!\"\n            ;;\n        *)\n            print_warning \"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å: $SERVICE\"\n            echo \"–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã: user, point, statistic, all\"\n            exit 1\n            ;;\n    esac\n}\n\n# –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏\nmain \"$@\" "
        }
    ]
}
{
    "sourceFile": "deploy/scripts/create-service.sh",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1754242469070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1754242469070,
            "name": "Commit-0",
            "content": "#!/bin/bash\n\n# –ü–æ–ª–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ (–º–æ–¥—É–ª—å + —Å–µ—Ä–≤–∏—Å)\n# –ê–≤—Ç–æ—Ä: viancis\n\nset -e\n\n# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞\nRED='\\033[0;31m'\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nBLUE='\\033[0;34m'\nNC='\\033[0m'\n\nprint_info() {\n    echo -e \"${BLUE}[INFO]${NC} $1\"\n}\n\nprint_success() {\n    echo -e \"${GREEN}[SUCCESS]${NC} $1\"\n}\n\nprint_error() {\n    echo -e \"${RED}[ERROR]${NC} $1\"\n}\n\nshow_help() {\n    echo \"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 SERVICE_NAME PORT [MODULE_NAME]\"\n    echo \"\"\n    echo \"–ü–†–ò–ú–ï–†–´:\"\n    echo \"  $0 auth-service 8092\"\n    echo \"  $0 payment-service 8093 payment\"\n    echo \"  $0 notification-service 8094 notification\"\n    echo \"\"\n}\n\n# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤\nif [ $# -lt 2 ]; then\n    print_error \"–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –∏ –ø–æ—Ä—Ç!\"\n    show_help\n    exit 1\nfi\n\nSERVICE_NAME=\"$1\"\nPORT=\"$2\"\nMODULE_NAME=\"${3:-$(echo \"$SERVICE_NAME\" | sed 's/-service$//')}\"\n\n# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—É—Ç–µ–π\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\nPROJECT_ROOT=\"$(dirname \"$SCRIPT_DIR\")\"\n\nprint_info \"=== –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ ===\"\nprint_info \"–°–µ—Ä–≤–∏—Å: $SERVICE_NAME\"\nprint_info \"–ü–æ—Ä—Ç: $PORT\"\nprint_info \"–ú–æ–¥—É–ª—å: $MODULE_NAME\"\n\n# –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª—è\nprint_info \"\"\nprint_info \"–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª—è $MODULE_NAME...\"\n\nif [ -d \"$PROJECT_ROOT/$MODULE_NAME\" ]; then\n    print_info \"–ú–æ–¥—É–ª—å $MODULE_NAME —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ\"\nelse\n    ./scripts/quick-module.sh \"$MODULE_NAME\" \"$PORT\"\nfi\n\n# –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞\nprint_info \"\"\nprint_info \"–®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ $SERVICE_NAME...\"\n\n./scripts/quick-service.sh \"$SERVICE_NAME\" \"$PORT\" \"$MODULE_NAME\"\n\n# –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞\nprint_info \"\"\nprint_info \"–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤...\"\n\nif [ -d \"$PROJECT_ROOT/$MODULE_NAME\" ]; then\n    print_success \"‚úì –ú–æ–¥—É–ª—å $MODULE_NAME —Å–æ–∑–¥–∞–Ω\"\nelse\n    print_error \"‚úó –ú–æ–¥—É–ª—å $MODULE_NAME –Ω–µ –Ω–∞–π–¥–µ–Ω\"\nfi\n\nif grep -q \"$SERVICE_NAME:\" \"$PROJECT_ROOT/docker-compose.dev.yml\"; then\n    print_success \"‚úì –°–µ—Ä–≤–∏—Å $SERVICE_NAME –¥–æ–±–∞–≤–ª–µ–Ω –≤ docker-compose.dev.yml\"\nelse\n    print_error \"‚úó –°–µ—Ä–≤–∏—Å $SERVICE_NAME –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ docker-compose.dev.yml\"\nfi\n\nif grep -q \"$SERVICE_NAME:\" \"$PROJECT_ROOT/docker-compose.yml\"; then\n    print_success \"‚úì –°–µ—Ä–≤–∏—Å $SERVICE_NAME –¥–æ–±–∞–≤–ª–µ–Ω –≤ docker-compose.yml\"\nelse\n    print_error \"‚úó –°–µ—Ä–≤–∏—Å $SERVICE_NAME –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ docker-compose.yml\"\nfi\n\nprint_success \"\"\nprint_success \"=== –°–µ—Ä–≤–∏—Å $SERVICE_NAME —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω! ===\"\nprint_info \"\"\nprint_info \"–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:\"\necho \"  üìÅ $MODULE_NAME/\"\necho \"    ‚îú‚îÄ‚îÄ src/main/java/com/viancis/$MODULE_NAME/\"\necho \"    ‚îÇ   ‚îî‚îÄ‚îÄ ${MODULE_NAME^}Application.java\"\necho \"    ‚îú‚îÄ‚îÄ src/main/resources/\"\necho \"    ‚îÇ   ‚îî‚îÄ‚îÄ application.properties\"\necho \"    ‚îú‚îÄ‚îÄ docker/\"\necho \"    ‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile\"\necho \"    ‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile.dev\"\necho \"    ‚îî‚îÄ‚îÄ pom.xml\"\necho \"\"\nprint_info \"–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:\"\necho \"  1. –î–æ–±–∞–≤—å—Ç–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ $PROJECT_ROOT/$MODULE_NAME/src/main/java/com/viancis/$MODULE_NAME/\"\necho \"  2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ $PROJECT_ROOT/$MODULE_NAME/pom.xml (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)\"\necho \"  3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: make dev\"\necho \"  4. –ò–ª–∏: ./scripts/deploy.sh\"\necho \"\"\nprint_info \"–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:\"\necho \"  - $SERVICE_NAME: http://localhost:$PORT\"\necho \"  - User Service: http://localhost:8090\"\necho \"  - Point Service: http://localhost:8091\"\necho \"  - Statistic Service: http://localhost:8095\"\necho \"  - Grafana: http://localhost:3000 (admin/admin)\"\necho \"  - Prometheus: http://localhost:9090\"\necho \"  - RabbitMQ Management: http://localhost:15673 (guest/guest)\" "
        }
    ]
}
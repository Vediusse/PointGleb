{
    "sourceFile": "statistic/src/main/java/com/viancis/statistic/service/NotificationStorageService.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1754179469901,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1754179469901,
            "name": "Commit-0",
            "content": "package com.viancis.statistic.service;\n\n\nimport com.viancis.common.dto.PointNotification;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.amqp.rabbit.annotation.RabbitListener;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service\n@Slf4j\npublic class NotificationStorageService {\n\n    private final List<PointNotification> notifications = new ArrayList<>();\n\n\n    @RabbitListener(queues = \"user.notifications.point\")\n    public void store(PointNotification event) {\n        log.warn(\"⚠️ Вот так вот получается, что пользователь {} имеет {} промахов!\", event.user().getUsername(), event.point().isInside());\n        notifications.add(event);\n    }\n\n    public List<PointNotification> getAll() {\n        return List.copyOf(notifications);\n    }\n}"
        }
    ]
}